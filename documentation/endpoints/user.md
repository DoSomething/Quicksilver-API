# User Endpoints

## User registration

**Endpoint**

```
POST /user/register
```


**Body Parameters**

```js
{

  /* Required: user_id or email or mobile. Northstar user ID. Example: `555b9225bffebc31068b4567`. */
  user_id: String,

  /* Required: user_id or email or mobile. */
  email: String,

  /* Required: user_id or email or mobile. */
  mobile: Integer,

  /* Optional. Client application identifier. Example: `Phoenix-US`. */
  application_id: String,

  /* Optional. The default is generated base on `user_country` value gathered from user settings found for `email` or `user_id`. Example: `mb-user-register-US`. Defining this value allows for specification of an alternative template. */
  email_template: String,

}
```


**Example Request**

TODO

**Corresponding message**

[user.registration.transactional](../messages/user.registration.transactional.md)


**Changelog**

- :x: `activity`: always `user_register` for this message type
- :x: `merge_var: MEMBER_COUNT` retrieved from Phoenix: see [API](https://github.com/DoSomething/phoenix/wiki/API#get-member-count)
- :x: `merge_var: FNAME` value from Northstar
- :x: `activity_timestamp` set in Quicksilver API
- :x: `mailchimp_list_id` determined in API
- :x: `subscribed` removed, always `1` as transaction request enables user email subscription preference.
- :x: `user_language` value from Northstar
- :x: `birthdate` value from Northstar
- :heavy_exclamation_mark: `email_tag` will be determined from `application_id`
- :heavy_exclamation_mark: `application_id` new optional field to determine client app
- :heavy_exclamation_mark: `email_template` should be determined from `user_country` but can be defined to use specific template.
- :heavy_exclamation_mark: `birthdate` format changed to [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)
- :heavy_exclamation_mark: `user_id` Phoenix user id is replaced with [Northstar](https://github.com/DoSomething/northstar/blob/dev/documentation/endpoints/users.md#retrieve-a-user) user id.



## User password reset

**Endpoint**

```
POST /user/password
```

**Body Parameters**

```js
{

  /* Required: user_id or email or mobile. Northstar user ID. Example: `555b9225bffebc31068b4567`. */
  user_id: String,

  /* Required: user_id or email or mobile. */
  email: String,

  /* Required: user_id or email or mobile. */
  mobile: Integer,

  /* Optional. Client application identifier. Example: `Phoenix`. */
  application_id: String,

  /* Optional. The default is generated base on `user_country` value gathered from user settings found for `email` or `user_id`. Example: `mb-user-password-US`. Defining this value allows for specification of an alternative template. */
  email_template: String,

}
```

**Example Request**

TODO

**Corresponding message**

[user.password_reset.transactional](../messages/user.password_reset.transactional.md)

**Changelog**

- :x: `activity`: always `user_password` for this message type
- :x: `merge_var: MEMBER_COUNT` retrieved from Phoenix: see [API](https://github.com/DoSomething/phoenix/wiki/API#get-member-count)
- :x: `merge_var: FNAME` value from Northstar
- :x: `merge_var: RESET_LINK` removed. The resetURL is generated by the consumer that responds to this message
- :x: `activity_timestamp` set in Quicksilver API
- :x: `user_language` value from Northstar
- :heavy_exclamation_mark: `email_tag` will be determined from `application_id`
- :heavy_exclamation_mark: `application_id` new optional field to determine client app
- :heavy_exclamation_mark: `email_template` should be determined from `user_country` but can be defined to use specific template.
- :heavy_exclamation_mark: `user_id` Phoenix user id is replaced with [Northstar](https://github.com/DoSomething/northstar/blob/dev/documentation/endpoints/users.md#retrieve-a-user) user id.
